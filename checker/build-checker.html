<html><head><title>Building a checker</title>
</head><body>

<h1>How to build a checker for a new target.</h1>

<ol>
<li>Edit <tt>checker/makefile</tt> and add the name of your new target to 
   the variable ARCHS.

<li>The checker requires the following files:
<dl>
<dt>$(TARGET).spec
<dd>contains the target's specification.
<dt>$(TARGET)-name.spec
<dd>contains assembly syntax specification.
	    This specification could be empty, if $(TARGET).spec
	    completely specifies the assembly syntax.
<dt>$(TARGET)-checker.s
<dd>contains any directives that
            must appear at the beginning of an assembly file
            on the target.  See {mips,sparc,pentium}-checker.s.
<dt>$(TARGET)-check.spec
<dd>contains "discard" and "keep" directives
	    that choose which constructors to check.  
            This file could be empty if the user wants to check
            all constructors.
<dt>$(TARGET)-bits.c
<dd>contains the code for "emitbits",
	    which emits binary data using assembly pseudo-ops.
	    See mips-bits.c
<dt>$(TARGET)-bits.h
<dd>the signature for "emitbits".  
	    See mips-bits.h.
</dl>
<li>Once all these files exist, execute:
<pre>
   make $(TARGET)
</pre>
   There are two rules that MUST be executed on the target
   architecture: "chkraddr" and "do$(TARGET)".
   The "chkraddr" rule computes the start address of the
   text section in an object file.
   The "do$(TARGET)" rule runs the shell scripts that
   assemble and disassemble the generated assembly files
   and that report errors to the user.
</ol>

</body></html>
